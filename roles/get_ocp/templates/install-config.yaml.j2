apiVersion: {{ env.install_config.api_version }}
baseDomain: {{ env.cluster.networking.base_domain }}
{{ ('proxy: ' + proxy_env.http_proxy) if proxy_env.http_proxy is defined or env.install_config.proxy.https_proxy is defined else '' }}
{{ ('  httpProxy: ' + proxy_env.http_proxy) if proxy_env.http_proxy is defined else '' }}
{{ ('  httpsProxy: ' + proxy_env.https_proxy) if proxy_env.https_proxy is defined else '' }}
{{ ('  noProxy: ' + proxy_env.no_proxy) if proxy_env.no_proxy is defined else '' }}
compute:
- hyperthreading: {{ env.install_config.compute.hyperthreading }}
  name: worker
  replicas: {{(env.cluster.nodes.compute.ip | length)}}
  architecture: {{ env.install_config.compute.architecture }}
controlPlane:
  hyperthreading: {{ env.install_config.control.hyperthreading }}
  name: master
  replicas: {{(env.cluster.nodes.control.ip | length)}}
  architecture: {{ env.install_config.control.architecture }}
metadata:
  name: {{ env.cluster.networking.metadata_name }}
networking:
  clusterNetwork:
  - cidr: {{ env.install_config.cluster_network.cidr }}
    hostPrefix: {{ env.install_config.cluster_network.host_prefix }}
  networkType: {{ env.install_config.cluster_network.type }}
  serviceNetwork:
  - {{ env.install_config.service_network }}
platform:
  none: {}
fips: {{ env.install_config.fips }}
pullSecret: '{{ env.redhat.pull_secret }}'